"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7875],{7875:(x,m,c)=>{c.r(m),c.d(m,{EditarMascotaPageModule:()=>C});var d=c(2881),r=c(4341),e=c(9420),l=c(5207),u=c(467),o=c(1360),g=c(1054),p=c(4279),h=c(8724);const f=i=>["/ficha-mascota",i];function M(i,F){if(1&i){const t=o.RV6();o.j41(0,"ion-content",5)(1,"div",6),o.nrm(2,"img",7),o.k0s(),o.j41(3,"ion-list",8)(4,"ion-item")(5,"ion-label",9),o.EFF(6,"Nombre"),o.k0s(),o.j41(7,"ion-input",10),o.mxI("ngModelChange",function(a){o.eBV(t);const s=o.XpG();return o.DH7(s.mascota.nombre,a)||(s.mascota.nombre=a),o.Njj(a)}),o.k0s()(),o.j41(8,"ion-item")(9,"ion-label",9),o.EFF(10,"Fecha de nacimiento"),o.k0s(),o.j41(11,"ion-datetime",11),o.mxI("ngModelChange",function(a){o.eBV(t);const s=o.XpG();return o.DH7(s.mascota.fechaNacimiento,a)||(s.mascota.fechaNacimiento=a),o.Njj(a)}),o.k0s()(),o.j41(12,"ion-item")(13,"ion-label",9),o.EFF(14,"Especie"),o.k0s(),o.j41(15,"ion-select",10),o.mxI("ngModelChange",function(a){o.eBV(t);const s=o.XpG();return o.DH7(s.mascota.especie,a)||(s.mascota.especie=a),o.Njj(a)}),o.j41(16,"ion-select-option",12),o.EFF(17,"Gato"),o.k0s(),o.j41(18,"ion-select-option",13),o.EFF(19,"Perro"),o.k0s()()(),o.j41(20,"ion-item")(21,"ion-label",9),o.EFF(22,"Colores"),o.k0s(),o.j41(23,"ion-input",10),o.mxI("ngModelChange",function(a){o.eBV(t);const s=o.XpG();return o.DH7(s.mascota.colores,a)||(s.mascota.colores=a),o.Njj(a)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label",9),o.EFF(26,"Sexo"),o.k0s(),o.j41(27,"ion-select",10),o.mxI("ngModelChange",function(a){o.eBV(t);const s=o.XpG();return o.DH7(s.mascota.sexo,a)||(s.mascota.sexo=a),o.Njj(a)}),o.j41(28,"ion-select-option",14),o.EFF(29,"Macho"),o.k0s(),o.j41(30,"ion-select-option",15),o.EFF(31,"Hembra"),o.k0s()()(),o.j41(32,"ion-item")(33,"ion-label",9),o.EFF(34,"Chip"),o.k0s(),o.j41(35,"ion-input",10),o.mxI("ngModelChange",function(a){o.eBV(t);const s=o.XpG();return o.DH7(s.mascota.chip,a)||(s.mascota.chip=a),o.Njj(a)}),o.k0s()()(),o.j41(36,"ion-button",16),o.bIt("click",function(){o.eBV(t);const a=o.XpG();return o.Njj(a.guardarCambios())}),o.nrm(37,"ion-icon",17),o.EFF(38," Guardar Cambios "),o.k0s()()}if(2&i){const t=o.XpG();o.R7$(2),o.Mz_("alt","Foto de ",t.mascota.nombre,""),o.Y8G("src",t.mascota.foto||"assets/default-mascota.jpg",o.B4B),o.R7$(5),o.R50("ngModel",t.mascota.nombre),o.R7$(4),o.R50("ngModel",t.mascota.fechaNacimiento),o.R7$(4),o.R50("ngModel",t.mascota.especie),o.R7$(8),o.R50("ngModel",t.mascota.colores),o.R7$(4),o.R50("ngModel",t.mascota.sexo),o.R7$(8),o.R50("ngModel",t.mascota.chip)}}const b=[{path:"",component:(()=>{class i{constructor(t,n,a,s){this.route=t,this.dbService=n,this.router=a,this.alertCtrl=s,this.mascota={nombre:"",fechaNacimiento:"",especie:"",colores:"",sexo:"",chip:"",foto:""},this.id=0,this.correo=""}ngOnInit(){var t=this;return(0,u.A)(function*(){t.id=Number(t.route.snapshot.paramMap.get("id"));const n=localStorage.getItem("usuarioActual");if(!n)return;t.correo=JSON.parse(n).correo;const a=yield t.dbService.obtenerMascotaPorId(t.id,t.correo);a?t.mascota=a:console.error("Mascota no encontrada")})()}guardarCambios(){var t=this;return(0,u.A)(function*(){try{yield t.dbService.actualizarMascota(t.id,t.mascota),yield(yield t.alertCtrl.create({header:"Mascota actualizada",buttons:["OK"]})).present(),t.router.navigate(["/ficha-mascota",t.id])}catch(n){console.error("Error al actualizar mascota:",n)}})()}static{this.\u0275fac=function(n){return new(n||i)(o.rXU(g.nX),o.rXU(p.B),o.rXU(g.Ix),o.rXU(e.hG))}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-editar-mascota"]],standalone:!1,decls:9,vars:5,consts:[[1,"sub-toolbar"],["slot","start"],["fill","clear",3,"routerLink"],["name","arrow-back-outline","slot","icon-only"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[1,"foto-container","ion-text-center","ion-margin-bottom"],[1,"foto-mascota",3,"src","alt"],["lines","none"],["position","floating"],[3,"ngModelChange","ngModel"],["display-format","DD/MM/YYYY",3,"ngModelChange","ngModel"],["value","Gato"],["value","Perro"],["value","Macho"],["value","Hembra"],["expand","block","color","success",3,"click"],["name","save-outline","slot","start"]],template:function(n,a){1&n&&(o.nrm(0,"app-menu-lateral"),o.j41(1,"ion-header")(2,"ion-toolbar",0)(3,"ion-buttons",1)(4,"ion-button",2),o.nrm(5,"ion-icon",3),o.k0s()(),o.j41(6,"ion-title"),o.EFF(7),o.k0s()()(),o.DNE(8,M,39,9,"ion-content",4)),2&n&&(o.R7$(4),o.Y8G("routerLink",o.eq3(3,f,a.id)),o.R7$(3),o.SpI("Editar a ",null==a.mascota?null:a.mascota.nombre,""),o.R7$(),o.Y8G("ngIf",a.mascota))},dependencies:[d.bT,r.BC,r.vS,e.Jm,e.QW,e.W9,e.A9,e.eU,e.iq,e.$w,e.uz,e.he,e.nf,e.Nm,e.Ip,e.BC,e.ai,e.Je,e.Gw,e.N7,l.Wk,h.s],styles:["ion-content[_ngcontent-%COMP%]{--background: url(/assets/fondos/fondo2.jpg)}.sub-toolbar[_ngcontent-%COMP%]{--background: #d6f2ff;--color: #000000;font-weight:500;font-size:16px}.foto-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.foto-mascota[_ngcontent-%COMP%]{width:250px;height:250px;object-fit:cover;border-radius:50%;border:4px solid white;box-shadow:0 6px 12px #00000040}.info-container[_ngcontent-%COMP%]{background:#ffffffe6;padding:1.5rem;border-radius:20px;margin-top:1.5rem;box-shadow:0 4px 12px #00000026}ion-icon[_ngcontent-%COMP%]{font-size:1.4rem;color:#5b9dbc;margin-right:.5rem}"]})}}return i})()}];let j=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=o.$C({type:i})}static{this.\u0275inj=o.G2t({imports:[l.iI.forChild(b),l.iI]})}}return i})();var _=c(7275);let C=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=o.$C({type:i})}static{this.\u0275inj=o.G2t({imports:[d.MD,r.YN,e.bv,j,_.M]})}}return i})()}}]);