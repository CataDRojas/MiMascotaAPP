"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6492],{6492:(x,l,i)=>{i.r(l),i.d(l,{FichaMascotaPageModule:()=>E});var m=i(2881),d=i(4341),s=i(9420),c=i(5207),u=i(467),t=i(1360),h=i(1054),f=i(5035),p=i(4279),g=i(8724);let F=(()=>{class n{transform(o){const a=new Date(o);return`${String(a.getDate()).padStart(2,"0")}/${String(a.getMonth()+1).padStart(2,"0")}/${a.getFullYear()}`}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275pipe=t.EJ8({name:"formatearFecha",type:n,pure:!0,standalone:!1})}}return n})();const b=()=>["/home"];function M(n,y){if(1&n){const o=t.RV6();t.j41(0,"ion-content",8)(1,"div",9),t.nrm(2,"img",10),t.k0s(),t.j41(3,"div",11)(4,"ion-list",12)(5,"ion-item"),t.nrm(6,"ion-icon",13),t.j41(7,"ion-label")(8,"h2"),t.EFF(9,"Nombre"),t.k0s(),t.j41(10,"p"),t.EFF(11),t.k0s()()(),t.j41(12,"ion-item"),t.nrm(13,"ion-icon",14),t.j41(14,"ion-label")(15,"h2"),t.EFF(16,"Fecha Nac. Estimada"),t.k0s(),t.j41(17,"p"),t.EFF(18),t.nI1(19,"formatearFecha"),t.k0s()()(),t.j41(20,"ion-item"),t.nrm(21,"ion-icon",15),t.j41(22,"ion-label")(23,"h2"),t.EFF(24,"Especie"),t.k0s(),t.j41(25,"p"),t.EFF(26),t.k0s()()(),t.j41(27,"ion-item"),t.nrm(28,"ion-icon",16),t.j41(29,"ion-label")(30,"h2"),t.EFF(31,"Colores"),t.k0s(),t.j41(32,"p"),t.EFF(33),t.k0s()()(),t.j41(34,"ion-item"),t.nrm(35,"ion-icon",17),t.j41(36,"ion-label")(37,"h2"),t.EFF(38,"Sexo"),t.k0s(),t.j41(39,"p"),t.EFF(40),t.k0s()()(),t.j41(41,"ion-item"),t.nrm(42,"ion-icon",18),t.j41(43,"ion-label")(44,"h2"),t.EFF(45,"N\xb0 de Chip"),t.k0s(),t.j41(46,"p"),t.EFF(47),t.k0s()()()(),t.j41(48,"ion-button",19),t.bIt("click",function(){t.eBV(o);const e=t.XpG();return t.Njj(e.borrarMascota())}),t.nrm(49,"ion-icon",20),t.EFF(50," Borrar Mascota "),t.k0s()()()}if(2&n){const o=t.XpG();t.R7$(2),t.Mz_("alt","Foto de ",o.mascota.nombre,""),t.Y8G("src",o.mascota.foto||"assets/default-mascota.jpg",t.B4B),t.R7$(9),t.JRh(o.mascota.nombre),t.R7$(7),t.JRh(t.bMT(19,9,o.mascota.fechaNacimiento)),t.R7$(8),t.JRh(o.mascota.especie),t.R7$(7),t.JRh(o.mascota.colores),t.R7$(7),t.JRh(o.mascota.sexo),t.R7$(7),t.JRh(o.mascota.chip||"No tiene")}}const j=[{path:"",component:(()=>{class n{constructor(o,a,e,r){this.route=o,this.alertCtrl=a,this.navCtrl=e,this.dbService=r,this.mascota=null,this.correo="",this.idMascota=0}ionViewWillEnter(){this.cargarFicha()}cargarFicha(){var o=this;return(0,u.A)(function*(){o.idMascota=Number(o.route.snapshot.paramMap.get("id")),console.log("ID recibido:",o.idMascota);const a=localStorage.getItem("usuarioActual");if(!a)return void console.error("No hay usuario logueado");o.correo=JSON.parse(a).correo;const e=yield o.dbService.obtenerMascotasPorUsuario(o.correo);console.log("Mascotas actualizadas:",e),o.mascota=e.find(r=>Number(r.id)===o.idMascota),o.mascota||console.warn("Mascota no encontrada con ID:",o.idMascota)})()}borrarMascota(){var a,o=this;this.alertCtrl.create({header:"\xbfEst\xe1s seguro?",message:`Vas a eliminar a ${this.mascota.nombre}. Esta acci\xf3n no se puede deshacer.`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:(a=(0,u.A)(function*(){yield o.dbService.borrarMascotaPorId(o.mascota.id),o.navCtrl.navigateRoot("/home")}),function(){return a.apply(this,arguments)}),cssClass:"danger"}]}).then(a=>a.present())}editarMascota(){this.navCtrl.navigateForward(`/editar-mascota/${this.idMascota}`)}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(h.nX),t.rXU(s.hG),t.rXU(f.q9),t.rXU(p.B))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-ficha-mascota"]],standalone:!1,decls:12,vars:4,consts:[[1,"sub-toolbar"],["slot","start"],["fill","clear",3,"routerLink"],["name","arrow-back-outline","slot","icon-only"],["slot","end"],["fill","clear",3,"click"],["name","create-outline","slot","icon-only"],["id","main-content","class","ion-padding",4,"ngIf"],["id","main-content",1,"ion-padding"],[1,"foto-container","ion-text-center","ion-margin-bottom"],[1,"foto-mascota",3,"src","alt"],[1,"info-container"],["lines","none"],["name","person-outline","slot","start"],["name","calendar-outline","slot","start"],["name","paw-outline","slot","start"],["name","color-palette-outline","slot","start"],["name","male-female-outline","slot","start",1,"ion-icon"],["name","hardware-chip-outline","slot","start"],["expand","block","color","danger",1,"ion-margin-top",3,"click"],["slot","start","name","trash-outline"]],template:function(a,e){1&a&&(t.nrm(0,"app-menu-lateral"),t.j41(1,"ion-header")(2,"ion-toolbar",0)(3,"ion-buttons",1)(4,"ion-button",2),t.nrm(5,"ion-icon",3),t.k0s()(),t.j41(6,"ion-title"),t.EFF(7),t.k0s(),t.j41(8,"ion-buttons",4)(9,"ion-button",5),t.bIt("click",function(){return e.editarMascota()}),t.nrm(10,"ion-icon",6),t.k0s()()()(),t.DNE(11,M,51,11,"ion-content",7)),2&a&&(t.R7$(4),t.Y8G("routerLink",t.lJ4(3,b)),t.R7$(3),t.SpI("Ficha de ",null==e.mascota?null:e.mascota.nombre,""),t.R7$(4),t.Y8G("ngIf",e.mascota))},dependencies:[m.bT,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.BC,s.ai,s.N7,c.Wk,g.s,F],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: url(/assets/fondos/fondo2.jpg)}.sub-toolbar[_ngcontent-%COMP%]{--background: #d6f2ff;--color: #000000;font-weight:500;font-size:16px}.foto-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.foto-mascota[_ngcontent-%COMP%]{width:250px;height:250px;object-fit:cover;border-radius:50%;border:4px solid white;box-shadow:0 6px 12px #00000040}.info-container[_ngcontent-%COMP%]{background:#ffffffe6;padding:1.5rem;border-radius:20px;margin-top:1.5rem;box-shadow:0 4px 12px #00000026}ion-icon[_ngcontent-%COMP%]{font-size:1.4rem;color:#5b9dbc;margin-right:.5rem}']})}}return n})()}];let v=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.iI.forChild(j),c.iI]})}}return n})();var k=i(7275);let E=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[m.MD,d.YN,s.bv,v,k.M]})}}return n})()}}]);